## 桶聚合
桶聚合不会像度量聚合那样计算字段上的度量，而是创建桶。每个桶与标准相关联（取决于聚合类型），该标准确定当前上下文中的文档是否“落入”其中。换句话说，桶有效地定义文档集。除了桶本身之外，桶聚合还计算并返回“落入”每个桶的文档数。

与度量聚合相反，桶聚合可以保存子聚合。这些子聚合将针对由其“父”桶聚合创建的桶进行聚合。

存在不同的桶聚合器，每个聚合器具有不同的“分组”策略。有些定义了一个桶，有些定义了固定数量的多个桶，有些则在聚合过程中动态创建桶。

>**注意**
>单个响应中最大桶数量受动态集群设置`search.max_buckets`的限制。默认情况下为禁用（-1），但当请求尝试返回超过10,000（未来版本的默认值）个桶的，将记录弃用警告。
